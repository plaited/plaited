var P=()=>!!(typeof window<"u"&&window.document&&window.document.createElement);var K=/[&<>'"]/g;var z={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"};var{replace:I}="",L=t=>z[t];var m=t=>I.call(t,K,L);var E="data-trigger",R=new Set(["area","base","basefont","bgsound","br","col","command","embed","frame","hr","img","isindex","input","keygen","link","menuitem","meta","nextid","param","source","track","wbr","circle","ellipse","line","path","polygon","polyline","rect","stop","use"]),k=new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),h=new Set(["null","undefined","number","string","boolean","bigint"]);var M=/^[a-z]+\-[a-z]+(?:\-[a-z]+)*$/,b=(t,l=[],x)=>`<${[t,...l].join(" ")}>${x.join("")}</${t}>`,D=(t,l)=>{let{shadowrootmode:x="open",children:f,shadowrootdelegatesfocus:A=!0,trusted:u,slots:y,stylesheet:$,style:w,key:F,"data-trigger":v,...S}=l;if(typeof t=="function")return t(l);let o=new Set;$&&o.add($);let C=f&&Array.isArray(f)?f:f?[f]:[];if(t==="script"&&!u)throw new Error("Script tag not allowed unless 'trusted' property set");let a=t.toLowerCase(),d=[];if(v){let e=Object.entries(v).map(([s,c])=>`${s}->${c}`).join(" ");d.push(`${E}="${e}"`)}if(w){let e=Object.entries(w).map(([s,c])=>`${s.replace(/[A-Z]/g,g=>`-${g.toLowerCase()}`)}:${c};`).join(" ");d.push(`style="${m(e)}"`)}for(let e in S){if(e.startsWith("on"))throw new Error(`Event handler attributes are not allowed:  [${e}]`);let s=S[e];if(!h.has(typeof s))throw new Error(`Attributes not declared in BaseAttrs must be of type Primitive: ${e} is not primitive`);if(k.has(e)){d.push(`${e}`);continue}let c=s??"";d.push(`${e}="${u?`${c}`:m(`${c}`)}"`)}if(R.has(a))return{stylesheets:o,content:`<${[a,...d].join(" ")}/>`};let p=[],T=M.test(a),r=[],n=[];if(T){r.push(`shadowrootmode="${x}"`),o.size&&n.push(b("style",void 0,[...o])),r.push(`shadowrootdelegatesfocus="${A}"`);let e=y?Array.isArray(y)?y:[y]:[],s=e.length;for(let c=0;c<s;c++){let g=e[c];if(typeof g=="object"&&"content"in g){p.push(g.content);continue}if(!h.has(typeof g))continue;let O=g??"";p.push(u?`${O}`:m(`${O}`))}}let i=C.length;for(let e=0;e<i;e++){let s=C[e];if(T&&typeof s=="object"&&"content"in s){n.push(s.content);for(let g of s.stylesheets)o.add(g);continue}if(typeof s=="object"&&"content"in s){p.push(s.content);for(let g of s.stylesheets)o.add(g);continue}if(!h.has(typeof s))continue;let c=s??"";if(T){n.push(u?`${c}`:m(`${c}`));continue}p.push(u?`${c}`:m(`${c}`))}return T&&(o.clear(),p.unshift(b("template",r,n))),{stylesheets:o,content:b(a,d,p)}},_=(t,l)=>{let{shadowrootmode:x="open",children:f,shadowrootdelegatesfocus:A=!0,trusted:u,slots:y,stylesheet:$,style:w,key:F,"data-trigger":v,...S}=l;if(typeof t=="function")return t(l);let o=new Set;$&&o.add($);let C=f&&Array.isArray(f)?f:f?[f]:[];if(t==="script"&&!u)throw new Error("Script tag not allowed unless 'trusted' property set");let a=document.createElement(t);if(v){let r=Object.entries(v).map(([n,i])=>`${n}->${i}`).join(" ");a.setAttribute(E,r)}if(w){let r=Object.entries(w).map(([n,i])=>`${n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}:${i};`).join(" ");a.setAttribute("style",m(r))}for(let r in S){if(r.startsWith("on"))throw new Error(`Event handler attributes are not allowed:  [${r}]`);let n=S[r];if(!h.has(typeof n))throw new Error(`Attributes not declared in BaseAttrs must be of type Primitive: ${r} is not primitive`);if(k.has(r)){a.setAttribute(r,"");continue}let i=n??"";a.setAttribute(r,u?`${i}`:m(`${i}`))}if(R.has(t))return{stylesheets:o,content:a};let d=M.test(t),p=document.createElement("template");if(d){a.appendChild(p),p.setAttribute("shadowrootmode",x),p.setAttribute("shadowrootdelegatesfocus",`${A}`);let r=y?Array.isArray(y)?y:[y]:[],n=r.length;for(let i=0;i<n;i++){let e=r[i];if(typeof e=="object"&&"content"in e){a.appendChild(e.content);continue}if(!h.has(typeof e))continue;let s=e??"";a.append(u?`${s}`:m(`${s}`))}}let T=C.length;for(let r=0;r<T;r++){let n=C[r];if(d&&typeof n=="object"&&"content"in n){p.appendChild(n.content);for(let e of n.stylesheets)o.add(e);continue}if(typeof n=="object"&&"content"in n){a.appendChild(n.content);for(let e of n.stylesheets)o.add(e);continue}if(!h.has(typeof n))continue;let i=n??"";if(d){p.append(u?`${i}`:m(`${i}`));continue}a.append(u?`${i}`:m(`${i}`))}if(d){if(o.size){let r=document.createElement("style");r.innerHTML=[...o].join(""),p.appendChild(r)}o.clear()}return{stylesheets:o,content:a}};function V(t,l){return P()?_(t,l):D(t,l)}function q({children:t}){return t=t&&Array.isArray(t)?t:t?[t]:[],{content:t.map(l=>typeof l=="string"?l:l.content).join("")}}export{q as Fragment,V as jsx,V as jsxDEV,V as jsxs};
